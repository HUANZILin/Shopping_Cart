<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Button</title>
    <link rel="stylesheet" href="./style/button.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  </head>
  <body>
    <div class="count">
      <div class="minus">-</div>
      <div class="num">12</div>
      <div class="add">+</div>
      <div class="text">警示訊息</div>
      <div class="fill_stock">☎️請點此連絡廠商預約存貨</div>
    </div>

    <script>
      let num = 12;
      let wait_time = 0;

      function check_num() {
        if (num < 10) {
          $(".text").text("數量極少！！！");
          $(".text").css("border-color", "#ff6505");
          $(".text").css("color", "#ff6505");
          $(".fill_stock").addClass("fill_stock_open");
        } else if (num < 20) {
          $(".text").text("賣得不錯喔！");
          $(".text").css("border-color", "#ffcd05");
          $(".text").css("color", "#ffcd05");
          $(".fill_stock").removeClass("fill_stock_open");
        } else {
          $(".text").text("還剩很多~");
          $(".text").css("border-color", "#fff");
          $(".text").css("color", "#fff");
          $(".fill_stock").removeClass("fill_stock_open");
        }
      }

      $(".minus").click(function () {
        num -= 1;
        $(".num").text(num);
        check_num();
      });

      $(".add").click(function () {
        num += 1;
        $(".num").text(num);
        check_num();
      });

      $(".fill_stock").click(function () {
        // $(".fill_stock").text("☎️聯絡中...");
        setInterval(function () {
          wait_time += 1;
          $(".fill_stock").text("☎️聯絡中..." + wait_time);
        }, 1000);
      });
    </script>
  </body>
</html>
